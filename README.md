# TouchWiz UI Framework

Минималистичный UI-движок на **C99** для работы с 320×240-панелью и портирования на *ESP32*.

## Структура
- `include/ui_core.h` — ядро: framebuffer, модульный HAL, потокобезопасная очередь событий, рисование прямоугольников/текста.
- `src/ui_core.c` — реализация ядра, примитивный 5×7 шрифт, блокировки с `pthread`, события сенсорного ввода и клавиатуры.
- `include/ui_hal_test.h` + `src/hal/hal_test_sdl.c` — десктопный HAL для 4× масштабирования и теста с SDL2 (мышь = тачскрин, клавиши эмулируются).
- `tests/main.c` — пример приложения, реагирующее на нажатия и клавиатуру.

## Рабочий процесс
1. Реализуйте собственный HAL (`ui_hal_ops_t`) для любого железа: инициализация, подача framebuffer-а, чтение/подача событий из сенсора или клавиатуры.
2. Пользуйтесь `ui_context_*` API для рисования, управления PIP и логики — всё потокобезопасно.
3. Вызов `ui_context_render` отдаёт текущий framebuffer HAL-у; его можно записать в SPI-фреймбуфер экрана.

## Тестирование на компьютере
Нужен SDL2 (девайсы `libsdl2-dev` для Linux). В терминале:
```bash
make
./tests/main
```
Окно 1280×960 (масштаб 4×) показывает framebuffer 320×240, мышь эмулирует тачскрин, `q`/`Q` закрывают.# BareUI
